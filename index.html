<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gajju Bomma | The Untold Story</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Outfit:wght@300;600&family=Playfair+Display:ital,wght@1,400&display=swap');

        :root {
            --bg: #050505;
            --text: #f0f0f0;
            --gold: #FFD700;
            --red: #8a0000;
            --night: #000;
            --love: #ff69b4;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--bg);
            color: var(--text);
            font-family: 'Outfit', sans-serif;
            overflow-x: hidden;
            transition: background 1.5s ease;
        }

        /* SCROLL PROGRESS */
        #progress-bar {
            position: fixed;
            top: 0; left: 0;
            height: 4px;
            background: var(--gold);
            width: 0%;
            z-index: 1000;
            box-shadow: 0 0 10px var(--gold);
        }

        /* SECTIONS */
        section {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            position: relative;
            text-align: center;
            opacity: 0;
            transform: translateY(50px);
            transition: all 1s ease;
        }

        section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        h1 {
            font-family: 'Dancing Script', cursive;
            font-size: 5rem;
            margin-bottom: 1rem;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.4);
        }

        h2 {
            font-family: 'Playfair Display', serif;
            font-size: 3rem;
            margin-bottom: 1.5rem;
        }

        p {
            font-size: 1.4rem;
            line-height: 1.8;
            max-width: 800px;
            color: rgba(255, 255, 255, 0.8);
        }

        /* SCENE 1: INTRO */
        #scene-1 h1 {
            background: linear-gradient(to right, #ff9966, #ff5e62);
            -webkit-background-clip: text;
            color: transparent;
        }

        /* SCENE 2: RED DAYS (Pulse Effect) */
        .pulse-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle, rgba(138, 0, 0, 0.3) 0%, transparent 80%);
            animation: pulsePain 2s infinite;
            pointer-events: none;
            opacity: 0;
            transition: opacity 1s;
            z-index: 50;
        }
        @keyframes pulsePain { 0% { transform: scale(1); opacity: 0.2; } 50% { transform: scale(1.1); opacity: 0.5; } 100% { transform: scale(1); opacity: 0.2; } }

        /* SCENE 3: SAFETY (Flashlight) */
        .flashlight-layer {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95);
            pointer-events: none;
            z-index: 60;
            opacity: 0;
            transition: opacity 1s;
            /* The flashlight effect is done via mask-image in JS */
        }
        .flashlight-text { z-index: 61; position: relative; color: #fff; text-shadow: 0 0 10px #fff; }

        /* SCENE 4: LOVE (Floating Hearts) */
        .heart {
            position: absolute;
            color: var(--love);
            font-size: 1.5rem;
            animation: floatUp 4s linear infinite;
            opacity: 0;
        }
        @keyframes floatUp { 0% { transform: translateY(100vh); opacity: 1; } 100% { transform: translateY(-10vh); opacity: 0; } }

        /* SCENE 5: THE FINAL INTERACTION */
        #scene-final {
            background: #000;
            overflow: hidden;
        }

        #soul-crystal {
            width: 120px;
            height: 120px;
            background: radial-gradient(circle, #fff, #00d2ff, #000);
            border-radius: 50%;
            box-shadow: 0 0 50px #00d2ff;
            cursor: pointer;
            transition: transform 0.3s;
            animation: breathe 3s infinite ease-in-out;
            z-index: 100;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #soul-crystal::after {
            content: "Touch";
            font-size: 0.8rem;
            color: #000;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        #soul-crystal:hover { transform: scale(1.2); box-shadow: 0 0 80px #00d2ff; }
        
        @keyframes breathe { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }

        #final-message {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            text-align: center;
            opacity: 0;
            pointer-events: none;
            z-index: 200;
        }

        #final-message h1 { font-size: 4rem; color: #fff; text-shadow: 0 0 40px #fff; }
        #final-message p { font-size: 1.5rem; color: var(--gold); }

        /* CANVAS FOR PARTICLES */
        #particle-canvas {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            pointer-events: none;
            z-index: 150;
        }

    </style>
</head>
<body>

    <div id="progress-bar"></div>
    <div class="pulse-overlay" id="red-overlay"></div>
    <div class="flashlight-layer" id="dark-overlay"></div>
    <canvas id="particle-canvas"></canvas>

    <section id="scene-1">
        <h1>She is a Gajju Bomma</h1>
        <p>A "Glass Doll".<br>Beautiful to look at. Precious to hold.<br>But do you know the cost of being made of glass?</p>
        <p style="font-size: 0.9rem; margin-top: 50px; opacity: 0.6; animation: bounce 2s infinite;">SCROLL DOWN SLOWLY</p>
    </section>

    <section id="scene-2" data-color="#1a0505">
        <h2 style="color: #ff4d4d;">The Red Days</h2>
        <p>Imagine a storm inside your body.<br>Pain that twists your insides. Energy that drains away.</p>
        <p>She smiles through this pain every single month.<br>Not because it doesn't hurt, but because the world expects her to work.</p>
    </section>

    <section id="scene-3" data-color="#000">
        <div class="flashlight-text">
            <h2>The Long Walk Home</h2>
            <p>Why does she look over her shoulder?</p>
            <p>Why does she clutch her keys like a weapon?</p>
            <p><strong>Move your mouse...</strong> darkness is everywhere.</p>
        </div>
    </section>

    <section id="scene-4" data-color="#100510">
        <div id="hearts-container"></div>
        <h2 style="font-family: 'Dancing Script'; color: var(--love);">But She is Love</h2>
        <p>Despite the pain. Despite the fear.</p>
        <p>She is the one who remembers your favorite food.<br>She is the one who builds a home out of empty walls.<br>She is Life itself.</p>
    </section>

    <section id="scene-final" data-color="#000">
        <div id="pre-click-content">
            <h2>The Final Truth</h2>
            <p style="margin-bottom: 40px;">She doesn't need a savior. She needs a safe world.</p>
            <div id="soul-crystal" onclick="igniteSoul()"></div>
        </div>

        <div id="final-message">
            <h1>You Are The Guardian.</h1>
            <p>Protect the Gajju Bomma. Respect Her. Love Her.</p>
            <br>
            <p style="font-size: 0.8rem; opacity: 0.5;">Created by Mourya</p>
        </div>
    </section>

    <script>
        // --- SCROLL & LOGIC ENGINE ---
        const sections = document.querySelectorAll('section');
        const progressBar = document.getElementById('progress-bar');
        const redOverlay = document.getElementById('red-overlay');
        const darkOverlay = document.getElementById('dark-overlay');
        const canvas = document.getElementById('particle-canvas');
        const ctx = canvas.getContext('2d');
        
        let width = window.innerWidth;
        let height = window.innerHeight;
        canvas.width = width;
        canvas.height = height;

        // SCROLL OBSERVER
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if(entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    
                    // Background Color Change
                    const color = entry.target.getAttribute('data-color');
                    if(color) document.body.style.backgroundColor = color;

                    // Scene Specific Triggers
                    if(entry.target.id === 'scene-2') {
                        redOverlay.style.opacity = 1;
                    } else {
                        redOverlay.style.opacity = 0;
                    }

                    if(entry.target.id === 'scene-3') {
                        darkOverlay.style.opacity = 1;
                        document.addEventListener('mousemove', moveFlashlight);
                    } else {
                        darkOverlay.style.opacity = 0;
                        document.removeEventListener('mousemove', moveFlashlight);
                    }

                    if(entry.target.id === 'scene-4') {
                        startHearts();
                    }
                }
            });
        }, { threshold: 0.5 });

        sections.forEach(sec => observer.observe(sec));

        // SCROLL PROGRESS
        window.addEventListener('scroll', () => {
            const scrollTop = window.scrollY;
            const docHeight = document.body.scrollHeight - window.innerHeight;
            const scrollPercent = (scrollTop / docHeight) * 100;
            progressBar.style.width = scrollPercent + '%';
        });

        // FLASHLIGHT LOGIC (Scene 3)
        function moveFlashlight(e) {
            const x = e.clientX;
            const y = e.clientY;
            darkOverlay.style.background = `radial-gradient(circle at ${x}px ${y}px, transparent 100px, rgba(0,0,0,0.98) 300px)`;
        }

        // HEART LOGIC (Scene 4)
        function startHearts() {
            const container = document.getElementById('hearts-container');
            if(container.children.length > 0) return; // Already started

            setInterval(() => {
                const rect = document.getElementById('scene-4').getBoundingClientRect();
                if(rect.top > window.innerHeight || rect.bottom < 0) return;

                const h = document.createElement('div');
                h.classList.add('heart');
                h.innerHTML = '❤️';
                h.style.left = Math.random() * 90 + 5 + '%';
                h.style.animationDuration = Math.random() * 3 + 3 + 's';
                container.appendChild(h);
                setTimeout(() => h.remove(), 6000);
            }, 300);
        }

        // --- THE SPECIAL ENDING (PARTICLES) ---
        let particles = [];
        let ignited = false;

        function igniteSoul() {
            if(ignited) return;
            ignited = true;

            const crystal = document.getElementById('soul-crystal');
            const preContent = document.getElementById('pre-click-content');
            const finalMsg = document.getElementById('final-message');

            // 1. Hide the button/text
            preContent.style.transition = "opacity 1s";
            preContent.style.opacity = 0;
            setTimeout(() => preContent.style.display = 'none', 1000);

            // 2. Explosion Logic
            const rect = crystal.getBoundingClientRect();
            const centerX = rect.left + rect.width/2;
            const centerY = rect.top + rect.height/2;

            createExplosion(centerX, centerY);
            animateParticles();

            // 3. Show Message
            setTimeout(() => {
                finalMsg.style.opacity = 1;
                finalMsg.style.transition = "opacity 2s ease";
                // Flash white
                document.body.style.backgroundColor = "white";
                setTimeout(() => document.body.style.backgroundColor = "black", 100);
            }, 500);
        }

        function createExplosion(x, y) {
            for(let i=0; i<400; i++) {
                particles.push({
                    x: x,
                    y: y,
                    vx: (Math.random() - 0.5) * 15,
                    vy: (Math.random() - 0.5) * 15,
                    life: Math.random() * 100 + 50,
                    color: `hsl(${Math.random() * 60 + 180}, 100%, 70%)`, // Blues and Cyans
                    size: Math.random() * 4 + 1
                });
            }
        }

        function animateParticles() {
            ctx.clearRect(0, 0, width, height);
            
            particles.forEach((p, i) => {
                p.x += p.vx;
                p.y += p.vy;
                p.vx *= 0.95; // Friction
                p.vy *= 0.95;
                p.life--;
                
                ctx.fillStyle = p.color;
                ctx.globalAlpha = p.life / 100;
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.size, 0, Math.PI*2);
                ctx.fill();

                if(p.life <= 0) particles.splice(i, 1);
            });

            if(particles.length > 0) requestAnimationFrame(animateParticles);
        }

        window.addEventListener('resize', () => {
            width = window.innerWidth;
            height = window.innerHeight;
            canvas.width = width;
            canvas.height = height;
        });

    </script>
</body>
</html>
